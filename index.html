<!DOCTYPE html>
<html>
<head>
<title>Snake Game</title>
<style>
body {
  background: black;
  color: white;
  text-align: center;
}
canvas {
  background: #111;
  margin-top: 20px;
}
</style>
</head>

<body>
<h1>üêç My Cool Snake Game</h1>
<p>Use Arrow Keys</p>
<canvas id="game" width="400" height="400"></canvas>
<h2>Score: <span id="score">0</span></h2>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

const box = 20;
let score = 0;

let snake = [{x: 9*box, y: 10*box}];
let food = {
  x: Math.floor(Math.random()*20)*box,
  y: Math.floor(Math.random()*20)*box
};

let dir;
document.addEventListener("keydown", e => {
  if(e.key=="ArrowUp" && dir!="DOWN") dir="UP";
  if(e.key=="ArrowDown" && dir!="UP") dir="DOWN";
  if(e.key=="ArrowLeft" && dir!="RIGHT") dir="LEFT";
  if(e.key=="ArrowRight" && dir!="LEFT") dir="RIGHT";
});

function draw(){
  ctx.fillStyle="#111";
  ctx.fillRect(0,0,400,400);

  snake.forEach((s,i)=>{
    ctx.fillStyle = i==0 ? "lime" : "green";
    ctx.fillRect(s.x,s.y,box,box);
  });

  ctx.fillStyle="red";
  ctx.fillRect(food.x,food.y,box,box);

  let headX = snake[0].x;
  let headY = snake[0].y;

  if(dir=="UP") headY -= box;
  if(dir=="DOWN") headY += box;
  if(dir=="LEFT") headX -= box;
  if(dir=="RIGHT") headX += box;

  if(headX==food.x && headY==food.y){
    score++;
    document.getElementById("score").innerText=score;
    food={
      x:Math.floor(Math.random()*20)*box,
      y:Math.floor(Math.random()*20)*box
    };
  } else {
    snake.pop();
  }

  let newHead={x:headX,y:headY};

  if(headX<0||headY<0||headX>=400||headY>=400||collision(newHead)){
    alert("Game Over! Score: "+score);
    location.reload();
  }

  snake.unshift(newHead);
}

function collision(head){
  return snake.some(s=>s.x==head.x && s.y==head.y);
}

setInterval(draw,100);
</script>
</body>
</html>


